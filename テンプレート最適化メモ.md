# 解説ページテンプレート最適化メモ

## 実施した最適化

### 1. HTMLコメント削除
- 不要なHTML段落コメント（`<!-- デフォルト表示 -->`など）をすべて削除
- 理由: ファイルサイズ削減、コード可読性向上

### 2. 静的HTMLリスト削除
**normal_reimu_a.html:**
- `<ul>`内の静的なタイムスタンプリスト例を削除
- JavaScriptで動的生成されるため、HTMLは空のままで十分

**変更前:**
```html
<ul>
    <li><a href="#" class="timestamp-link" data-time="0" data-stage="1" tabindex="0">タイムスタンプ1</a></li>
    <li><a href="#" class="timestamp-link" data-time="0" data-stage="1" tabindex="0">タイムスタンプ2</a></li>
</ul>
```

**変更後:**
```html
<ul></ul>
```

### 3. コンテンツセクション整理
- HTMLコメント分を削除してインデント統一
- ステージごとのコンテンツIDは`content-{stage}-{index}`形式で統一

## テンプレート構造

### normal_reimu_a.html
- **ステージ機能**: ドロップダウン + 左右矢印で6ステージを選択
- **タイムスタンプ**: 各ステージごとに異なるタイムスタンプを動的生成
- **コンテンツID**: `content-{stage}-{index}` 形式
  - 例: `content-1-0` = ステージ1のタイムスタンプ0

### extra_reimu_a.html
- **ステージ機能**: なし（単一ステージ）
- **タイムスタンプ**: 配列から動的生成
- **コンテンツID**: `content-{index}` 形式（ステージなし）
  - 例: `content-0` = タイムスタンプ0

## 共通仕様

### 初期ロード時
1. 動画自動再生（時間指定なし）
2. デフォルトコンテンツ表示（`content-default`）
3. タイムスタンプは未選択状態

### タイムスタンプ選択時
1. 動画が指定時間にジャンプして再生
2. 対応するコンテンツを表示
3. 他のコンテンツを非表示

### ステージ変更時（normal_reimu_aのみ）
1. タイムスタンプリストを新しいステージのものに更新
2. デフォルトコンテンツを表示
3. タイムスタンプは未選択状態

## 他ページ作成時の手順

1. ファイル名を変更（`normal_reimu_b.html`など）
2. `<h1>`タイトルを変更
3. `data-video-id`に動画IDを指定
4. `stageData` または `timestamps` 配列を編集
5. コンテンツの`<h3>`と`<p>`を編集
6. JavaScript変数名やID属性は変更不要（ステージ数が6で共通）

## ファイルサイズ削減
- normal_reimu_a.html: HTMLコメント削除で約100バイト削減
- extra_reimu_a.html: HTMLコメント削除で約30バイト削減

## 今後の改善案（未実装）
- JavaScriptの関数化（複数ページ時にJavaScript共通化可能）
- タイムスタンプデータをJSON化（外部ファイル管理）
- 動的ステージ数対応（現在は6ステージ固定）
